plugins {
    id 'com.android.application'
    id 'kotlin-android'
    id 'kotlin-kapt'
    id 'com.google.gms.google-services'
    id 'com.google.firebase.firebase-perf'
    id 'com.google.firebase.crashlytics'
    id 'dependencies'
//    id 'dagger.hilt.android.plugin'
}

Properties properties = new Properties()
properties.load(project.rootProject.file('local.properties').newDataInputStream())
def dad_api = properties.getProperty('ad')

android {
    compileSdkVersion Versions.compileSdk
    buildToolsVersion Versions.buildTools

    defaultConfig {
        applicationId Versions.appId
        minSdkVersion Versions.minSdk
        targetSdkVersion Versions.targetSdk
        versionCode Versions.versionCode
        versionName Versions.versionName

//        buildConfigField "String", "API_KEY", properties['ad_unit']
//        buildConfigField "String", "API_KEY2", properties['ad_unit2']
//        manifestPlaceholders = [ad: ad_api, geo:geo_api]
//        manifestPlaceholders = [ad: ad_api]
//        manifestPlaceholders = [geo: geo_api]
    }

    buildTypes {
        release {
            minifyEnabled true
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }

    }
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }

    buildFeatures {
//        dataBinding = true
        viewBinding = true
    }

    kotlinOptions {
        jvmTarget = '1.8'
    }
}

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])
    implementation project(":feature:error")
    implementation project(":feature:map")
    implementation project(":data:api")

    implementation platform('com.google.firebase:firebase-bom:26.1.0')
    implementation Firebase.core
    implementation Firebase.messaging
    implementation Firebase.performance
    implementation Firebase.ads
    implementation Firebase.analytics
    implementation Firebase.crashlytics

    implementation Navigation.fragment
    implementation Navigation.ui

    implementation AndroidX.core
    implementation AndroidX.recyclerview
    implementation AndroidX.preference

    implementation Lifecycle.process

    implementation Google.play
    implementation Google.material
    implementation Google.guava
    implementation Google.ads

    implementation 'gun0912.ted:tedpermission:2.2.0'

    implementation Koin.koin

    implementation Rx.android
    implementation Rx.java
    implementation Rx.kotlin

//    testImplementation 'junit:junit:4.13.1'
//    androidTestImplementation 'androidx.test.ext:junit:1.1.2'
//    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'

    implementation Glide.runtime
    kapt Glide.compiler
}



